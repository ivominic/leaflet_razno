<!doctype html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title> Leaflet testiranje </title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    </head>
    <body>
        <div class="row">
            <div class='panel-heading text-center panel-relative'>
                <h1>Leaflet testiranje</h1>
            </div>            
        </div>
        <div class="row">
        </div>
        <div class="row">
            <div class="col-md-2">
                <div class="form-group">
                    <button type="button" class="btn btn-primary" id="btnPrint" onclick="printMapu()">Print me</button>
                </div>                
                    <div id="info"></div>
                    <div id="layertree"></div>    
                    <div id="name"></div>
                    <div id="results"></div>
            </div>
            <div class="col-md-10">
                    <div id="map" class="half-map" style="width: 1000px; height: 800px"></div>
            </div>
        </div>
        
<style>
    div#search {
  background-color: white;
  position: absolute;
  bottom: 240px;
  left: 240px;
  width: auto;
  height: auto;
  padding: 10px;
  z-index: 0;
}
div#search input {
  width: 200px;
}
div#results {
  font-style: sans-serif;
  color: black;
  font-size: 75%;
}
</style>
    
    <link href='http://fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="easyprint/dist/bundle.js"></script>


        <!--<script src="../assets/ol3/js/ol.js"></script>-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.css"/>
        <!--<script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.2.0/build/ol.js"></script>-->
        <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js'></script>
        <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.4/leaflet.js"></script>
        <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.min.js'></script>
        <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.mapbox.css' rel='stylesheet' />
        <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
        <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />
        <script>            
            /*var map = L.map('map',{center: [35.10418, -106.62987],
                zoom: 10
            });
            //var map = L.map('map').setView([35.10418, -106.62987],10);
            L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png').addTo(map);*/

            var feature; //promjenljiva za geolokaciju
            var printer;



            function initMap() {
                var options = {center : new L.LatLng(42,21), zoom : 7 };
                
                var osmUrl = 'http://{s}.tile.osm.org/{z}/{x}/{y}.png',
                            osmAttribution = 'Map data &copy; 2012 OpenStreetMap contributors',
                            osm = new L.TileLayer(osmUrl, {maxZoom: 18, attribution: osmAttribution});
                
                var mapLayer = new L.TileLayer(osmUrl);
                
                this.map = new L.Map('map', options).addLayer(mapLayer);

                printer = L.easyPrint({
                    tileLayer: osm,
                    sizeModes: ['Current', 'A4Landscape', 'A4Portrait'],
                    filename: 'myMap',
                    exportOnly: true,
                    hideControlContainer: true
                }).addTo(map);

            }





function printMapu() {
    /*var printProvider = L.print.provider({
    capabilities: printConfig,
    url: "http://localhost:8080/geoserver/print",
    method: 'POST',
    autoLoad: true,
    dpi: 150,

    legends: true,
    geodetic:true,
    outputFormat: 'pdf'
    });*/

                /*var printProvider = L.print.provider({
                    method: 'GET',
                    url: 'http://localhost/geoserver/print',
                    autoLoad: true,
                    dpi: 90
                });

                var printControl = L.control.print({
                provider: printProvider
                });        
                map.addControl(printControl);


                var printer = L.easyPrint({
                    tileLayer: tiles,
                    sizeModes: ['Current', 'A4Landscape', 'A4Portrait'],
                    filename: 'myMap',
                    exportOnly: true,
                    hideControlContainer: true
                }).addTo(map);*/$
                printer.printMap('CurrentSize', 'MyManualPrint')

}

var map = null;

initMap();



        </script>
    </body>
</html>